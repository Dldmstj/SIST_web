<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<style type="text/css">
	/*
		#
	*/
	</style>
</head>
<body>
	전화번호<br><input type="text" name="phone"/><br>
	<span id ="phoneValid"></span>
	<br>
	확인할 회원<br><input type="text" name="member"/><br>
	<span id ="memberValid"></span>
	<!--  정규식 test메서드를 활용해서 himan이 입력되면 등록한 회원이 있습니다, 없으면 없다고 출력 -->
</body>

	<script type="text/javascript">
	// phone 확인 패턴
	var phOb = document.querySelector("[name=phone]")
	var phoneValid = document.querySelector("#phoneValid")
	phOb.onkeyup=function(){
		// 전화번호의 정규식 유효 패턴
		// 전화번호가 3자리- 3~4자리-4자리 숫자로 구성되게 처리
		var phonePattern = /^d{3}-\d{3,4}-\d{4}$/;
		// 해당 패턴에 맞게 입력하면
		if(phonePattern.test(this.value)){
			phoneValid.innerText="유효한 전화번호 입력입니다."
		}else{
			phoneValid.innerText="전화번호는 @@@-@@@@-@@@@ 형식으로 입력해주세요"
		}
	}
	
	// member 확인 패턴
	var memOb = document.querySelector("[name=member]")
	var memberValid = document.querySelector("#memberValid")
	memOb.onkeyup=function(){
		var memPattern = /himan/;
		if(memPattern.test(this.value)){
			memberValid.innerText="회원이 존재합니다."
		}else{
			memberValid.innerText="회원이 존재하지 않습니다."
		}
	}
	/*
		# 정규식 표현
		1. 유효성 체크시 복잡한 유효성 데이터를 효과적으로 check할 때 활용되는 표현방식
			ex) 글자가 @@~@@까지 주민번호 형식, 이메일형식, 영문 대소문자와 숫자로 구성 등
		2. 정규식(regular expression)은 문자열 내에서 특정한 패턴을 찾거나 대치하는 데 사용합니다.
		3. 정규식은 매우 강력한 도구이며 다양한 문자열 처리 작업에서 사용할 수 있다.
		4. 정규식 처리 방법
			1) 리터를 문법(*)
				let re = /ab+c/;
			2) 생성자 함수 문법
				let re = new RegExp("ab+c")
		5. 기능메서드
			1) test(): 정규식과 일치 여부를 검사하는 메서드
				패턴.test(입력데이터) : 해당 패턴에 맞으면 boolean true 처리
			2) exec() : 정규식과 일치하는 문자열을 검색하는 메서드
				var data = 패턴.exec(입력데이터)
				일치하는 문자열을 data 변수에 할당
			3) match() : 정규식과 일치하는 문자열을 배열로 반환하는 메소드
				var arry = 입력문자열.match(패턴)
				해당 패턴에 맞는 문자열을 배열로 처리
			4) search() : 정규식과 일치하는 문자열의 인덱스를 반환하는 메소드
				var idx = 입력문자열.serch(패턴)
				정규식과 일치하는 문자열의 index번호를 반환하는 메소드
			5) replace(): 정규식과 일치하는 문자열을 대체하는 메소드
				var rplStr = 입력문자열.replace(패턴,"대체할 문자열")
			6) ** split() : 정규식을 기준으로 문자열을 분할하여 배열로 반환하는 메소드
				var arry = 입력문자열.split(패턴)
		6. 정규식 표현 형식
	*/
		// 1. text(): 합치여부에 따른 boolean데이터 처리
		var pattern = /apple/
		var str = "I have an apple!"
		console.log("# test() #")
		console.log(pattern.test(str))
		if(pattern.test(str)){
			console.log("apple 있음")
		}else{
			console.log("apple 없음")
		}
		
		// 2. exec(): 일정한 문자열을 검색하는 메소드
		// 	패턴/i : 대소문자 구분없이 처리
		var pattern2 = /apple/i
		var str = "I have an APPle. applE is delicious.";
		var result = pattern2.exec(str)
		console.log("# exec() #")
		console.log("결과: " +result)
		if(result){
			console.log("apple 있음")
		}else{
			console.log("apple 없음")
		}
		// 3. match(): 정규식과 일치하는 문자열을 배열로 반환하는 메소드
		// /g : 정규식 플래그로 global 전역 매치, 한개 초과할 때, 내용의 모든 패턴 결과 반환
		var pattern3 = /apple/ig
		var str = "I have an APPle. applE is delicious.";
		var matches = str.match(pattern3)
		console.log("# match() #")
		console.log(matches)
		
		// 4. search() : 정규식과 일치하는 문자열의 인덱스를 반환하는 메소드
		var pattern4 = /apple/
		var str = "I have an apple. apple is delicious.";
		var sIdx = str.search(pattern4)
		console.log("# search() #")
		console.log("검색된 index위치: " +sIdx)
		
		// 5. replace(): 정규식과 일치하는 문자열을 대체하는 메소드
		var pattern5 = /apple/
		var str = "I have an apple. apple is delicious.";
		var reStr = str.replace(pattern5,'orange')
		console.log("# replace() #")
		console.log("대체 이후 문자열: " +reStr)
		
		// 6. split(): 정규식을 기준으로 문자열을 분하여 배열로 반환하는 메서드
		var pattern6 = /,/
		var str = "apple, orange, banana";
		var fruits = str.split(pattern6)
		console.log("# split() #")
		console.log("분해된 배열: "+fruits[0] + fruits[1] + fruits[2])
		console.log("생성된 배열의 길이: "+fruits.length)
	</script>
</html>